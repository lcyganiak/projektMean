<div class="container-fluid">
  <section><h2 class="h2">Nowa Ksiązka</h2></section>
  <div class="row">
    <div class="col-sm-12 col-md-8">
      <mat-divider></mat-divider>
      <mat-card>
        <form [formGroup]="createForm" class="createForm">
          <mat-form-field class="field-fule-width ">
            <input
              matInput
              placeholder="Tytuł"
              formControlName="title"
              #title
            />
          </mat-form-field>
          <mat-form-field class="field-fule-width ">
            <input
              matInput
              placeholder="Autor"
              formControlName="author"
              #author
            />
          </mat-form-field>
          <mat-form-field class="field-fule-width ">
            <input
              matInput
              placeholder="Karegoria"
              formControlName="category"
              #category
            />
          </mat-form-field>
          <mat-form-field class="field-fule-width ">
            <input
              matInput
              placeholder="Bohaterowie"
              formControlName="heroes"
              #heroes
            />
          </mat-form-field>
          <div
            class="container buttonEdit"
            *appContenteditable="
              let clickButton = controllerButton;
              let discryptionBook
            "
          >
            <mat-form-field class="field-fule-width ">
              <input
                matInput
                placeholder="Opis"
                formControlName="description"
                #description
                id="description"
                [ngModel]="discryptionBook"
              />
            </mat-form-field>

            <ul style="list-style-type: none">
              <button
                class="btn btn-primary bold "
                (click)="clickButton.bold()"
              >
                <i class="fas fa-bold"></i>
              </button>
              <button
                class="btn btn-primary italic"
                (click)="clickButton.italic()"
              >
                <i class="fas fa-italic"></i>
              </button>
              <button class="btn btn-primary" (click)="clickButton.underline()">
                <i class="fas fa-underline"></i>
              </button>
              <button class="btn btn-primary" (click)="clickButton.sad()">
                <i class="far fa-frown-open"></i>
              </button>
              <button class="btn btn-primary" (click)="clickButton.smail()">
                <i class="far fa-smile-beam"></i>
              </button>
            </ul>

            <div contenteditable="true" class="contenteditable">
              Opis wwojej ksiązki!!!!
            </div>
          </div>

          <mat-form-field class="field-fule-width ">
            <input
              type="email"
              matInput
              placeholder="E-mail"
              formControlName="email"
              #email
              value="{{authService.user.email}}"
            />
          </mat-form-field>
          <mat-form-field class="field-fule-width ">
            <input
              matInput
              placeholder="Właściciel"
              formControlName="owner"
              #owner
            />
          </mat-form-field>

          <mat-form-field class="field-fule-width ">
            <mat-select placeholder="Dostep" formControlName="access" #access>
              <mat-option value="true">Wypożycze</mat-option>
              <mat-option value="false">Wypożyczona</mat-option>
            </mat-select>
          </mat-form-field>
          <div>
            <button mat-stroked-button type="button" (click)="fileGet.click()">
              Dodaj zdjęcie
            </button>
            <input type="file" #fileGet (change)="onImagePiked($event)" />
          </div>

          <mat-divider></mat-divider>
          <br /><br />

          <button
            type="submit"
            (click)="
              addIssue(
                title.value,
                author.value,
                category.value,
                heroes.value,
                description,
                email.value,
                owner.value,
                access.value,
                imagePreview
              )
            "
            [disabled]="createForm.pristine || createForm.invalid"
            mat-raised-button
          >
            Dodaj
          </button>
        </form>
        <div class="col-sm-12 col-md-4 border">
          <p>Zdjęcie twojej Ksiązki</p>
          <img
            class="image-preview"
            *ngIf="
              imagePreview !== '' &&
              imagePreview &&
              createForm.get('image').valid
            "
            [src]="imagePreview"
            [alt]="createForm.value.title"
          />
        </div>
      </mat-card>
    </div>
  </div>
</div>
